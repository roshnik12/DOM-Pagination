var tableData = [
  
    {
      "id": "1",
      "name": "suzen Thomas",
      "email": "Matt25@gmail.com"
    },
    {
      "id": "2",
      "name": "Lera Macejkovic",
      "email": "Jamal.Donnelly45@hotmail.com"
    },
    {
      "id": "3",
      "name": "Asa Gottlieb",
      "email": "Carolyne.Langosh@yahoo.com"
    },
    {
      "id": "4",
      "name": "Avery Nienow",
      "email": "Hudson_Bernhard47@yahoo.com"
    },
    {
      "id": "5",
      "name": "Dr. Katrine Ryan",
      "email": "Colten40@gmail.com"
    },
    {
      "id": "6",
      "name": "Florida Kulas",
      "email": "Alejandra_Bernhard@yahoo.com"
    },
    {
      "id": "7",
      "name": "Mauricio Gerlach",
      "email": "Vincenza_Gusikowski84@hotmail.com"
    },
    {
      "id": "8",
      "name": "Chadrick Simonis",
      "email": "Reymundo.Doyle@gmail.com"
    },
    {
      "id": "9",
      "name": "Beau Jenkins",
      "email": "Cletus65@hotmail.com"
    },
    {
      "id": "10",
      "name": "Camilla Cole",
      "email": "Eda48@yahoo.com"
    },
    {
      "id": "11",
      "name": "Rijwan MacGyver",
      "email": "Jevon.Koch@hotmail.com"
    },
    {
      "id": "12",
      "name": "Sanaya Prohaska",
      "email": "Eldon_DuBuque37@yahoo.com"
    },
    {
      "id": "13",
      "name": "Berenice Hane",
      "email": "Lonnie3@gmail.com"
    },
    {
      "id": "14",
      "name": "zareen Durgan",
      "email": "Marlee.Weimann42@gmail.com"
    },
    {
      "id": "15",
      "name": "Tate Kuhlman",
      "email": "Hope31@yahoo.com"
    },
    {
      "id": "16",
      "name": "Mrs. Hermina Daniel",
      "email": "Murphy59@yahoo.com"
    },
    {
      "id": "17",
      "name": "Marcelino Nienow",
      "email": "Estefania_Dibbert97@hotmail.com"
    },
    {
      "id": "18",
      "name": "Raphaelle Connelly",
      "email": "Josie.Legros70@yahoo.com"
    },
    {
      "id": "19",
      "name": "Mina Heaney",
      "email": "Pete.Hermann79@hotmail.com"
    },
    {
      "id": "20",
      "name": "Jaida Torp",
      "email": "Jonatan82@yahoo.com"
    },
    {
      "id": "21",
      "name": "Megane Fadel",
      "email": "Dandre82@yahoo.com"
    },
    {
      "id": "22",
      "name": "Angelo Schimmel V",
      "email": "Frederic54@hotmail.com"
    },
    {
      "id": "23",
      "name": "Jaren Ferry DDS",
      "email": "Kristian.Kilback@yahoo.com"
    },
    {
      "id": "24",
      "name": "Annette O'Connell",
      "email": "Domenica.Christiansen@gmail.com"
    },
    {
      "id": "25",
      "name": "Elenor Rohan PhD",
      "email": "Alvera.Huel48@yahoo.com"
    },
    
    {
      "id": "26",
      "name": "Madge Bogisich",
      "email": "Joey.Marquardt50@gmail.com"
    },
    {
      "id": "27",
      "name": "harry MacGyver",
      "email": "Julius.Bednar96@yahoo.com"
    },
    {
      "id": "28",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "29",
      "name": "Jardon Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "30",
      "name": "Kanishq Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "31",
      "name": "Motzer Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "32",
      "name": "Zefron Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "33",
      "name": "Mutzer Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "34",
      "name": "Arino Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "35",
      "name": "Alazu sulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "36",
      "name": "missuio Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "37",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "38",
      "name": "zuneq afsar",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "39",
      "name": "Arfan sinoklit",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "40",
      "name": "Arjanio mantuk",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "41",
      "name": "sirmanu terq",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "42",
      "name": "mirajen Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "43",
      "name": "Zownato Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "44",
      "name": "lepnek Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "45",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "46",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "47",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "48",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "49",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
     {
      "id": "50",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    },
  ];



// state object
var state = {
'querySet': tableData,

'page': 1,
'rows': 5,
'window': 10,
}

// function call
buildTable()

// Table  function
function buildTable() {
    var table = $('#table-body')
    var data = pagination(state.querySet, state.page, state.rows)
    var myList = data.querySet

    for (var i = 1 in myList) {
        var row = `<tr>
        <td>${myList[i].id}</td>
        <td>${myList[i].name}</td>
        <td>${myList[i].email}</td>`
        table.append(row)
    } 
    pageButtons(data.pages)
}

// pagination function
function pagination(querySet, page, rows) {
var start = (page - 1) * rows
var end = start + rows
var trimmedData = querySet.slice(start, end)
var pages = Math.round(querySet.length / rows);

return {'querySet': trimmedData,'pages': pages,}
}

// page buttons function
function pageButtons(pages) {
var wrapper = document.getElementById('pagination-wrapper')
wrapper.innerHTML = ``

var maxLeft = (state.page - Math.floor(state.window / 2))
var maxRight = (state.page + Math.floor(state.window / 2))

if (maxLeft < 1) {
    maxLeft = 1
    maxRight = state.window
}

if (maxRight > pages) {
    maxLeft = pages - (state.window - 1)

    if (maxLeft < 1){
        maxLeft = 1
    }
    maxRight = pages
}

for (var page = maxLeft; page <= maxRight; page++) {
    wrapper.innerHTML += `<button value=${page} class="page btn btn-sm btn-primary">${page}</button>`
}

if (state.page != 1) {
    wrapper.innerHTML = `<button value=${1} class="page btn btn-sm btn-primary">First</button>` + wrapper.innerHTML
}

if (state.page != pages) {
    wrapper.innerHTML += `<button value=${pages} class="page btn btn-sm btn-primary">Last</button>`
}

$('.page').on('click', function() {
    $('#table-body').empty()

    state.page = Number($(this).val())

    buildTable()
})

}